<mat-card id="{{id}}" (click)="edit.next()" class="card"
          [style.backgroundColor]="this.issueTypesWithColor[this.issueType]?.color || this.prioritiesWithColor[this.priority]?.color">
  <!-- mat-card allows us to optionally provide a card image. -->
  <img *ngIf="image" mat-card-image [src]="image" draggable="false">

  <!-- Use the mat-card-content to add the proper spacing. -->
  <mat-card-content>
    {{title}}
    <div *ngIf="author">By: {{author}}</div>
    <br>

    <div *ngIf="description">{{description}}</div>

    <div *ngIf="tags">
      <!--
        Render out the tags as a list of chips. Note that we want
        readonly chips so we `selectable` to `false`.
      -->
      <mat-chip-list>
        <mat-chip [style.background]="tag?.color ? tag.color : '#e0e0e0'" *ngFor="let tag of tags"
                  selectable="false">{{tag?.name}}</mat-chip>
      </mat-chip-list>
    </div>

    <div *ngIf="linkedEpic">
      <mat-label>Linked Epic</mat-label>
      <mat-chip-list>
        <mat-chip  selectable="false">{{linkedEpic.title}}</mat-chip>
      </mat-chip-list>
    </div>

    <div *ngIf="linkedCards">
      <mat-label *ngIf="linkedCards.length > 0">Linked Cards</mat-label>
      <mat-chip-list>
        <mat-chip *ngFor="let linkedCard of linkedCards"
                  selectable="false" (click)=highlight.next(linkedCard)>{{linkedCard.text}}</mat-chip>
      </mat-chip-list>
    </div>

    <mat-icon *ngIf="editable" (click)="delete.next()" class="icon">cancel_outline</mat-icon>
  </mat-card-content>


  <!-- Section for buttons and the talk author. -->
  <mat-card-actions *ngIf="editable">
    <!-- <button mat-button (click)="delete.next()">DELETE</button> -->
    <button mat-button *ngIf="priority" disabled=true>{{this.priority}}</button>
  </mat-card-actions>
</mat-card>
